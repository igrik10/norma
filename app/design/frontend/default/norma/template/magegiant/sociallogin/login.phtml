<?php
/**
 * MageGiant
 *
 * NOTICE OF LICENSE
 *
 * This source file is subject to the MageGiant.com license that is
 * available through the world-wide-web at this URL:
 * http://magegiant.com/license-agreement/
 *
 * DISCLAIMER
 *
 * Do not edit or add to this file if you wish to upgrade this extension to newer
 * version in the future.
 *
 * @category    MageGiant
 * @package     MageGiant_SocialLogin
 * @copyright   Copyright (c) 2014 MageGiant (http://magegiant.com/)
 * @license     http://magegiant.com/license-agreement/
 */

/**
 * Sociallogin
 *
 * @category    MageGiant
 * @package     MageGiant_SocialLogin
 * @author      MageGiant Developer
 */
?>
<?php $socialButtons = $this->getSocialButton(); ?>
<div id="magegiant-sociallogin-popup">
   
   <div id="magegiant-login-form">

        <div id="sociallogin-forgot" style="display: none">
            <!--<span class="sociallogin-forgot-content"><?php echo $this->__('Please enter your email below and we will send you a new password.'); ?></span>-->
        </div>
        <!-- formm Login -->
		
		
	<div class="modal-signin" id="msignin">
		<div class="form-signin">			
			<div class="form">
				<div class="modal-title"><?php echo $this->__("Sign in") ?></div>
				<form id="magegiant-sociallogin-form" class="magegiant-login-form-popup">
					<div class="field icon email magegiant-login-input-box">
						<input id="magegiant-sociallogin-popup-email" class="styler input-text required-entry validate-email"
                           type="text" placeholder="Email" title="Email Address" value="" name="socialogin_email">
					</div>

					<div id="magegiant-sociallogin-password" class="field icon pass magegiant-login-input-box">
						<div class="sociallogin-input-box">
							<input placeholder="Пароль" type="password" id="magegiant-sociallogin-popup-pass"
								   class="styler input-text required-entry validate-password" type="text" title="Password" value=""
								   name="socialogin_password">
						</div>
					</div>					
					<!-- image ajax -->
					<div id="progress_image_login" class="ajax-login-image" style="display: none">
					</div>
					<!-- error invalid email -->
					<div id="magegiant-invalid-email" class="magegiant-invalid-email"></div>
					<div class="field error"></div>

					<div class="buttons">
						<div class="magegiant-login-popup-button">
							<div class="magegiant-create-popup-button">
								<a class="recover-link modalLink" id="magegiant-forgot-password"
								   href="javascript:void(0);"><?php echo $this->__('Forgot Your Password?') ?>
								</a>
								<button id="magegiant-button-sociallogin" class="button popup_click_btn popup-btn btn blue" name="send"
										title="Login"
										type="button">
									<?php echo $this->__('Login') ?>
								</button>
								<div class="registration">
									Ви ще не з нами?
									<div class="magegiant-sociallogin-create-new-customer">
										<a class="modalLink" id="magegiant-sociallogin-create-new-customer"
										   href="javascript:void(0);"><?php echo('Create New Account') ?>
										</a>
									</div>
								</div>
							</div>
						</div>
					</div>
				</form>
			</div>
			<div class="social-auth">
				<span>Використовуючи профіль соц. мереж</span>
				<div class="social-auth-btn">
					<?php if (count($socialButtons)): ?>
						<div class="social-button-container">
							<div class="social-button-wapper">
								<ul class="buttons">
									<?php foreach ($socialButtons as $button): ?>
										<?php if ($button->getEnabled()): ?>
											<li class="social-button"
												id="<?php echo $button->getId() ?>"> <?php echo $button->getButton() ?>
											</li>
										<?php endif; ?>
									<?php endforeach; ?>
								</ul>
							</div>
						</div>
					<?php endif; ?>
					<!--end social login-->
				</div>
			</div>
		</div>
	</div>
    </div>
	<div id="forgot-password-form-div" style="display: none">
	<div class="modal-signin" id="msignin">
		<div class="form-signin">	
			<div class="form">
				<div class="modal-title">Відновлення паролю</div>
		
					<!-- form forgot -->
        <form id="magegiant-sociallogin-form-forgot" class="magegiant-login-form-popup">
            <div class="magegiant-login-input-box">
                <div class="field icon email sociallogin-input-box">
                    <input placeholder="Введіть E-mail" id="magegiant-sociallogin-popup-email-forgot"
                           class="styler input-text required-entry validate-email" type="text" title="Email Address"
                           value="" name="socialogin_email_forgot">
                </div>
            </div>
			<div class="info">
				<p>Ми вірдправимо вам на пошту інструкції по відновленню пароля</p>
			</div>
            <!-- image ajax -->
            <div id="progress_image_login_forgot" class="ajax-login-image" style="display: none">
            </div>
            <!-- error invalid email -->
            <div id="magegiant-invalid-email-forgot" class="magegiant-invalid-email"></div>
            <!-- sumbit -->
            <div class="magegiant-login-popup-button">
                <div class="button">
					<button id="magegiant-button-sociallogin-forgot" class="btn blue popup_click_btn popup-btn"
							title="<?php echo $this->__('Send Password'); ?>" type="button ">
						<?php echo $this->__('Send Password') ?>
					</button>
				</div>
                <a id="magegiant-forgot-back"
                   href="javascript:void(0);"><?php echo $this->__('Back to Form Login') ?>
                </a>
            </div>
        </form>	
			</div>
			<div class="social-auth">
				<span>Використовуючи соц. мережі</span>
				<div class="social-auth-btn">
					<!-- social login -->
					<?php if (count($socialButtons)): ?>
						<div class="social-button-container">
							<div class="social-button-wapper">
								<ul class="buttons">
									<?php foreach ($socialButtons as $button): ?>
										<?php if ($button->getEnabled()): ?>
											<li class="social-button"
												id="<?php echo $button->getId() ?>"> <?php echo $button->getButton() ?>
											</li>
										<?php endif; ?>
									<?php endforeach; ?>
								</ul>
							</div>
						</div>
					<?php endif; ?>
					<!--end social login-->
				</div>
			</div>
		</div>
		<a class="modalLink" href="#mrecover"></a>
	</div>
	</div>
    <!-- create new user -->
    <div id="magegiant-create-user" style="display: none">
	<div class="modal-reg" id="mreg">
		<div class="form-reg">
			<div class="form">
				<div class="modal-title"><?php echo $this->__("Create New Account") ?></div>
        <form id="magegiant-sociallogin-form-create" class="magegiant-login-form-popup">
					<div class="field name-firstname icon name sociallogin-field">
                        <div class="input-box">
                            <input id="socialogin.firstname" placeholder="Ім'я" class="styler input-text required-entry" type="text"
                                   title="Ім'я" value="" name="firstname">
                        </div>
                    </div>
					
                    <div class="field name-lastname icon name sociallogin-field">
                        <div class="input-box">
                            <input placeholder="Прізвище" id="socialogin.lastname" class="styler input-text required-entry" type="text"
                                   title="Last Name" value="" name="lastname">
                        </div>
                    </div>
                
                    <div class="field icon sociallogin-field email">
                        <input placeholder="Email" id="socialogin.email" class="styler input-text required-entry validate-email"
                               type="text" title="Email" value="" name="email">
                        <div id="magegiant-invalid-create" class="magegiant-invalid-email"></div>
                    </div>

                    <div class="field icon sociallogin-field telephone">
                        <input placeholder="Телефон" id="socialogin.telephone" class="styler input-text required-entry"
                               type="text" title="Телефон" value="" name="telephone">
                    </div>

                    <div class="field sociallogin-field pass">
                            <input placeholder="Пароль" id="socialogin.pass" class="styler input-text required-entry validate-password"
                                   type="password" title="Pass" value="" name="pass">
                    </div>
					
                    <div class="field sociallogin-field pass">
                            <input placeholder="Підтвердити пароль" id="socialogin.pass.confirm" class="styler input-text required-entry validate-cpassword"
                                   type="password" title="Pass Confirm" value="" name="passConfirm">
                    </div>
                
					<div class="accept">
					  <label><input type="checkbox" required />Я приймаю <a href="/agreement">Правила реєстрації користувачів.</a></label>

					 </div> 

					<div class="field error"></div>
					
                    <div class="magegiant-create-popup-button">
                        <a id="magegiant-create-back"
                           href="javascript:void(0);"><?php echo $this->__('Back to Form Login') ?></a>
                        <div class="button">
							<button id="magegiant-button-sociallogin-create" class="button btn blue popup-btn"
									title="<?php echo $this->__('Submit'); ?>" type="button">
								<?php echo $this->__('Submit') ?>
							</button>
						</div>
                    </div>
            <!-- image ajax -->
            <div id="progress_image_login_create" class="ajax-login-image" style="display: none">
            </div>
            <!-- error invalid create ACC -->
        </form>
			</div>
			<div class="social-auth">
				<span>Використовуючи соц. мережі</span>
				<div class="social-auth-btn">
					<!-- social login -->
					<?php if (count($socialButtons)): ?>
						<div class="social-button-container">
							<div class="social-button-wapper">
								<ul class="buttons">
									<?php foreach ($socialButtons as $button): ?>
										<?php if ($button->getEnabled()): ?>
											<li class="social-button"
												id="<?php echo $button->getId() ?>"> <?php echo $button->getButton() ?>
											</li>
										<?php endif; ?>
									<?php endforeach; ?>
								</ul>
							</div>
						</div>
					<?php endif; ?>
					<!--end social login-->
				</div>
			</div>
		</div>
	</div>
    </div>
</div>
<script type="text/javascript">
    //<![CDATA[
    var options = {
        email: $('magegiant-sociallogin-popup-email').value,
        pass: $('magegiant-sociallogin-popup-pass').value,
        login_url: "<?php echo $this->getUrl().'sociallogin/popup/login';?>",
        send_pass_url: "<?php echo $this->getUrl().'sociallogin/popup/sendPass';?>",
        create_url: "<?php echo $this->getUrl().'sociallogin/popup/createAcc';?>",
    };
    new LoginPopup(options);
	jQuery('.close-modal').on("click", function(){
		jQuery('.tclose').click();
	});
    //]]>
</script>